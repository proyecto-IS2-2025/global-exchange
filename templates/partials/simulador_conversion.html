<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card shadow-lg border-0 rounded-4">
        <div class="card-header bg-primary text-white text-center rounded-top-4">
          <h4 class="mb-0"><i class="bi bi-cash-coin me-2"></i> Simulador de Divisas</h4>
        </div>
        <div class="card-body bg-light">
          <form id="simulador-form" class="needs-validation" novalidate>
            
            <!-- Tipo de operación -->
            <div class="form-floating mb-3">
              <select class="form-select" id="tipoOperacion" onchange="actualizarMonedas()" required>
                <option value="compra">Compra</option>
                <option value="venta">Venta</option>
              </select>
              <label for="tipoOperacion"><i class="bi bi-arrows-exchange me-2 text-primary"></i> Tipo de operación</label>
            </div>

            <!-- Divisa -->
            <div class="form-floating mb-3">
              <select class="form-select" id="moneda" required>
                <option value="USD">Dólar (USD)</option>
                <option value="EUR">Euro (EUR)</option>
                <option value="BRL">Real (BRL)</option>
              </select>
              <label for="moneda"><i class="bi bi-currency-exchange me-2 text-primary"></i> Seleccionar divisa</label>
            </div>

            <!-- Monto -->
            <div class="form-floating mb-3">
              <input type="number" class="form-control" id="monto" placeholder="Ingrese el monto" required>
              <label for="monto"><i class="bi bi-123 me-2 text-primary"></i> Monto</label>
            </div>

            <!-- Resultado -->
            <div id="resultadoBox" class="alert alert-info d-none border-dark bg-light text-center fw-bold"></div>

            <!-- Botón -->
            <div class="d-grid mt-4">
              <button type="button" class="btn btn-primary btn-lg shadow-sm" onclick="simular()">
                <i class="bi bi-calculator-fill me-2"></i> Simular
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const tasas = {
    USD: 7500,
    EUR: 8500,
    BRL: 1300
  };

  function actualizarMonedas() {
    const tipo = document.getElementById("tipoOperacion").value;
    const label = document.querySelector("label[for='moneda']");
    label.innerHTML = `<i class="bi bi-currency-exchange me-2 text-primary"></i> ${tipo === "compra" ? "Divisa a comprar" : "Divisa a vender"}`;
  }

  function simular() {
    const tipo = document.getElementById("tipoOperacion").value;
    const moneda = document.getElementById("moneda").value;
    const monto = parseFloat(document.getElementById("monto").value);
    const tasa = tasas[moneda];

    if (isNaN(monto)) {
      alert("Por favor, ingrese un monto válido.");
      return;
    }

    const resultadoBox = document.getElementById("resultadoBox");
    resultadoBox.classList.remove("d-none", "alert-danger", "alert-success");
    resultadoBox.classList.add("alert-success");

    let resultadoHtml = "";

    if (tipo === "compra") {
      // El usuario quiere comprar divisas → paga en ₲
      let guaranies = monto * tasa;
      resultadoHtml = `
        <i class="bi bi-cash me-2"></i>
        <span class="fw-bold text-dark">${guaranies.toLocaleString("es-PY")} ₲</span>
        = 
        <span class="fw-bold text-primary">${monto.toLocaleString("es-PY")} ${moneda}</span>
      `;
    } else {
      // El usuario quiere vender divisas → recibe ₲
      let guaranies = monto * tasa;
      resultadoHtml = `
        <i class="bi bi-cash me-2"></i>
        <span class="fw-bold text-dark">${monto.toLocaleString("es-PY")} ${moneda}</span>
        = 
        <span class="fw-bold text-primary">${guaranies.toLocaleString("es-PY")} ₲</span>
      `;
    }

    resultadoBox.innerHTML = resultadoHtml;
  }
</script>


